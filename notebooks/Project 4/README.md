# Project Title

A brief description of the project and its goals.

## Table of Contents

- [Introduction](#introduction)
- [Data](#data)
- [Methods](#methods)
- [Results](#results)
- [Conclusion](#conclusion)
- [Installation](#installation)
- [Usage](#usage)
- [Contributing](#contributing)
- [License](#license)

## Introduction

One issue that frequently arises in service-based businesses, such as Spotify, is the need to anticipate churn. Churn refers to the departure of customers, and it's a crucial metric to keep track of. By anticipating churn, these companies can take preventative measures to avoid customer loss, which can ultimately lead to an increase in customer base and revenue.

## Data

During the data exploration phase, we worked with a sample of event logs captured from October to November 2018. Our data sample was 128 MB in size, consisting of 286,500 events generated by 255 unique users. The dataset contained 18 features, including:

`Artist`: The name of the artist whose song was played during the event. This field is null if the event is not related to song listening.

`Authentication (Auth)`: The status of user authentication, such as login, logout, cancel, or guest.

`First Name`: The first name of the user. This field is null if the user has not logged in.

`Gender`: The gender of the user, either male or female. This field is null if the user has not logged in.

`Item in Session`: The count of events that occurred during a particular session. The count starts from 0.

`Last Name`: The last name of the user. This field is null if the user has not logged in.

`Length`: The duration in seconds of the song being played. This field is null if the event is not related to song listening.

`Level`: The subscription level of the user, whether paid or free.

`Location`: The location of the user in the format of city and state. All users are from the USA.

`Page`: The page where the event occurred, which can be Cancel, Submit Downgrade, Thumbs Down, Home, Downgrade, Roll Advert, Logout, Save Settings, Cancellation Confirmation, About, Submit Registration, Settings, Login, Register, Add to Playlist, Add Friend, NextSong, Thumbs Up, Help, Upgrade, Error and Submit Upgrade.

`Registration`: The registration number associated with each user.

`Session Id`: The number of the session initiated.

`Song`: The name of the song being played.

`Status`: The HTTP status code (200, 307, 404).

`Timestamp (TS)`: The timestamp in milliseconds.

`User Agent`: Information about the device and browser accessing the data.

`User Id`: The ID associated with each user.



## Methods

 Using `pysaprk` we cleaned the dataset, select important features, conducting feature engineering, and at the end we compare several `pysaprk.ml` tools such as `Naive Bayes`, `GBTClassifier`, `LinearSVC`, `randomForestClassifier`, and `LogisticRegression`. 



## Conclusion

Our project began with a relatively small dataset of only 128 megabytes (The original dataset of this captone is 12G and becuase of limitation of resources, we worked on a small subset of the data) and 225 distinct customers. Upon importing and refining the data, we conducted a thorough analysis of the dataset to identify pertinent predictors of churn, ultimately isolating the most effective features. These selected features were subjected to preprocessing and subsequently employed as input variables in a variety of machine learning algorithms. Of these, the GBTClassifier algorithm emerged as the most promising, and we proceeded to refine the model until we achieved an accuracy and F1 score of 0.69.

## Installation

- `pyspark version == 3.3.2`
- `numPy`
- `pandas`
- `seaborn`
- `matplotlib` 


## License

This project is licensed under the [MIT License](https://opensource.org/license/mit/) 



